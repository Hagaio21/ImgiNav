# Experiment Configuration
# This file contains all parameters needed to run/resume training

experiment:
  exp_dir: /work3/s233249/ImgiNav/experiments/diffusion_small_t500_001
  name: "Diffusion small - Run 001"
  description: "Training diffusion model with small U-Net"

# U-Net Configuration
unet:
  config_path: /work3/s233249/ImgiNav/ImgiNav/config/base_unet_small.yml

# Noise Scheduler
scheduler:
  type: CosineScheduler  # LinearScheduler, CosineScheduler, SquaredCosineScheduler, etc.
  num_steps: 500

# Autoencoder (for generating samples during training)
autoencoder:
  config_path: /work3/s233249/ImgiNav/experiments/ae_configs/config_diff_4ch_64x64_vanilla.yml
  checkpoint_path: /work3/s233249/ImgiNav/experiments/autoencoder_final_64x64x4_vanila/20251004-082051_ae_final/best.pt

# Dataset
dataset:
  manifest_path: /work3/s233249/ImgiNav/datasets/layout_manifest_with_emb.csv

# Latent shape (C, H, W)
latent_shape: [4, 64, 64]

# Training Parameters
training:
  batch_size: 32
  num_epochs: 400
  learning_rate: 0.0001
  sample_every: 5      # Generate samples every N epochs
  num_samples: 4      # Number of samples to generate
  periodic_checkpoint_every: 20  # Save lightweight checkpoint every N epochs

# Notes:
# - To start training: python train_diffusion.py --exp_config experiment_config.yaml
# - To resume training: python train_diffusion.py --exp_config experiment_config.yaml --resume
# - Experiment directory will contain:
#     checkpoints/    (latest.pt, best.pt, epoch_*.pt)
#     samples/        (generated images per epoch)
#     configs/        (copy of unet config)
#     experiment_config.yaml (copy of this file)