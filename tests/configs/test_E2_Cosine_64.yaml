# Test configuration for E2_Cosine_64
experiment:
  name: test_E2_Cosine_64
  base_path: tests/experiment_test

dataset:
  manifest: test_dataset/manifests/layouts_manifest.csv
  split_ratio: 0.8
  seed: 42
  batch_size: 4
  num_workers: 0
  shuffle: true
  taxonomy_path: config/taxonomy.json
  return_embeddings: true

model:
  autoencoder:
    config: tests/configs/test_AE_large_latent_seg.yaml
    checkpoint: null  # Will be built on-the-fly
  diffusion:
    scheduler:
      type: cosine
      num_steps: 100
    unet:
      type: dualunet
      in_channels: 8
      out_channels: 8
      base_channels: 32
      depth: 3
      num_res_blocks: 2
      time_dim: 64
      cond_channels: 0
      act: relu
      norm: batch
      dropout: 0.1
      fusion_mode: none
      cond_mult: 1.0

training:
  epochs: 2
  log_interval: 1
  eval_interval: 1
  sample_interval: 1
  grad_clip: 1.0
  num_samples: 4
  output_dir: tests/experiment_test/E2_Cosine_64/output
  ckpt_dir: tests/experiment_test/E2_Cosine_64/checkpoints
