# Minimal Diffusion test configuration
dataset:
  batch_size: 4
  manifest: test_dataset/manifests/layouts_manifest.csv
  num_workers: 0
  seed: 42
  shuffle: true
  split_ratio: 0.8
  return_embeddings: false
  skip_empty: true

model:
  type: diffusion
  autoencoder:
    config: tests/configs/test_ae_config.yaml
    checkpoint: null
  diffusion:
    unet:
      type: dual_unet
      in_channels: 2
      out_channels: 2
      cond_channels: 0
      base_channels: 16
      depth: 2
      num_res_blocks: 1
      time_dim: 64
      fusion_mode: none
    scheduler:
      type: linear
      num_steps: 50

training:
  epochs: 2
  eval_interval: 1
  log_interval: 1
  lr: 0.001
  sample_interval: 1
  cfg_dropout_prob: 0.1
  output_dir: test_outputs/diffusion_test
  ckpt_dir: test_outputs/diffusion_test/checkpoints
  loss:
    type: diffusion
    lambda_mse: 1.0
    lambda_vgg: 0.0

experiment:
  name: test_diffusion
  base_path: test_outputs
