# Test Pipeline Configuration
# All paths and arguments for testing the data processing pipeline on 5 scenes

# Input paths - UPDATE THESE WITH YOUR ACTUAL PATHS
scenes_root: "C:/Users/Hagai.LAPTOP-QAG9263N/Desktop/Thesis/datasets/3D-FRONT_FUTURE/3D-FRONT"  # Directory containing scene JSON files
model_dir: "C:/Users/Hagai.LAPTOP-QAG9263N/Desktop/Thesis/datasets/3D-FRONT_FUTURE/3D-FUTURE-model/3D-FUTURE-model"            # Directory with 3D model files  
model_info: "C:/Users/Hagai.LAPTOP-QAG9263N/Desktop/Thesis/datasets/3D-FRONT_FUTURE/3D-FUTURE-model/model_info.json"     # Path to model_info.json
taxonomy: "C:/Users/Hagai.LAPTOP-QAG9263N/Desktop/Thesis/repositories/ImgiNav/config/taxonomy.json"            # Path to taxonomy (relative to project root)

# Output paths
output_dir: "test_dataset"                   # All outputs go here (relative to project root)

# Stage 1 arguments (Build Scenes)
stage1:
  limit: 32                                   # Process only 5 scenes
  total_points: 500000
  min_pts_per_mesh: 100
  max_pts_per_mesh: 0
  ppsm: 0.0
  save_parquet: true
  per_scene_subdir: true

# Stage 2 arguments (Split to Rooms)
stage2:
  glob: "*_sem_pointcloud.parquet"
  inplace: true                              # Write room files inside scene directories
  compute_frames: true                       # Compute per-room coordinate frames
  map_band: [0.05, 1.80]                     # Height band [min, max] in meters

# Stage 3 arguments (Create Layouts)
stage3:
  mode: "both"                               # "room", "scene", or "both"
  resolution: 512
  height_min: 0.1
  height_max: 1.8
  point_size: 10
  color_mode: "super"                         # "category" or "super"

# Stage 4 arguments (Create POVs)
stage4:
  width: 512
  height: 512
  fov_deg: 70.0
  eye_height: 1.6
  point_size: 3.0
  bg_rgb: [0, 0, 0]                          # Background color RGB
  num_views: 6                               # Number of viewpoints per room
  seed: 1
  hpc: false                                 # Set to true if running headless (needs xvfbwrapper)

# Stage 5 arguments (Build Graphs)
stage5:
  room:
    type: "room"
  scene:
    type: "scene"
    adjacency_thresh: 0.3

# Collection arguments
collect:
  workers: null  # null = use CPU count, or specify a number

